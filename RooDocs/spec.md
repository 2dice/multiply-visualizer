---
### **掛け算教育Webアプリ仕様書**
---

#### **1. アプリの概要**

- **目的**: 掛け算の視覚的アプローチによる多面的理解を促進する。
- **対象ユーザー**: 小学3年生の子供。
- **概要**: 掛け算の概念を多様な方法で視覚的に表現し、楽しく学べる教育Webアプリ。
- **ホスティング**: GitHub Pagesを利用して公開。

---

#### **2. 機能要件**

##### **タブ構成と機能の詳細**

1. **グリッドタブ**:

   - **目的**: 掛け算を行数と列数で視覚化し、繰り返し加算の概念を伝える。
   - **機能**:
     - 2つのスライダーで行数（1〜9）と列数（1〜9）を入力。
     - グリッドはスライダーの操作に応じてリアルタイムに描画され、合計値を自動表示。

2. **グリッドの応用（分解）タブ**:

   - **目的**: 掛け算を部分的な計算に分解し、その性質を理解する。
   - **機能**:
     - 4つのスライダーで掛け算の数値（1〜100）と縦横分割位置を設定。
     - 分割結果に応じた式を表示（例: (2×2)+(2×2)）。
     - スライダーを細かく調整可能な設計。

3. **面積（三角形）タブ**:

   - **目的**: 三角形の面積計算を通じて掛け算の性質を学ぶ。
   - **機能**:
     - 点線入りの方眼紙上に三角形を描画。
     - 3つのスライダーで底辺、高さ（1〜100）、および頂点位置（左端、中央、右端）を調整。
     - **正三角形の場合**: 分割や空白部分を色付き点滅で示し、÷2の概念を強調。
     - **直角三角形の場合**: 長方形にしたときの空白部分を色付き点滅で示し、面積が同じであることを視覚的に強調。

4. **時間と速度タブ**:

   - **目的**: 掛け算を速度と時間の応用として視覚化。
   - **機能**:
     - ラジオボタンで時間単位（時間、分、秒）を選択。
     - ラジオボタンで距離単位（キロメートル、メートル）を選択。
     - 速度（1〜100）を入力し、物体の移動アニメーションで距離を視覚化。
     - キャラクターが定規のスケール上を移動し、1秒ごとに進む計算上の距離を弧線と数字で表現。
     - 定規のスケールは速度に合わせて伸縮し、画面上では1秒間に一定のドット数(例: 100ドット)移動する。
     - 「プレイ」ボタンでアニメーションを再生。アニメーション終了後、「リプレイ」ボタンに切り替わる。

---

#### **3. ユーザーインターフェース**

- **タブ切り替え**: Webページ上部にタブメニューを配置し、各モードに簡単に切り替え可能。
- **レイアウト**: 各タブのメインコンテンツ（可視化エリア）を大きく表示し、操作要素（スライダー、ボタンなど）は下部に配置。
- **レスポンシブ対応**: タブレットを意識したレイアウト。スライダーやボタンをタッチ操作に最適化。
- **デザインと配色**: 明るい色合いを使用し、各タブにテーマカラーを設定。時間と速度タブではキャラクターを登場させ、親しみやすさを演出。

---

#### **4. 技術要件**

- **プラットフォーム**: Webアプリとして構築し、GitHub Pagesで公開。
- **主要フレームワーク**:
  - React.js: コンポーネントベースのUI管理。
- **技術スタック**:
  - **Vite**: 高速ビルドツールとして使用
  - **HTML5, CSS3, JavaScript**: アプリケーションの基本構築。
  - **React.js**: インタラクティブなUIの構築。
  - **Canvas API**: グラフィックやアニメーション描画。
  - **SVG**: 図形やグラフの描画。
  - **GitHub Pages**: デプロイ環境。
  - **npm**: パッケージ管理。
- **動作環境**: 最新のブラウザ（Chrome, Firefox, Edge）で動作。

---

#### **5. 開発ツール**

- **コードエディタ**:
  - Visual Studio Code (推奨)。
- **品質管理**:
  - ESLint: コード品質チェック。
  - Prettier: コードフォーマット。
- **テストツール**:
  - Playwright: E2Eテストツール。アプリの動作を自動化し、タブの切り替えやインタラクションを検証。
- **デバッグ**:
  - 各開発ステップでテストツールを使ってデバッグ
  - テストツールで確認できない部分はChromeの開発者ツールを利用。

---

#### **6. アクセシビリティ**

- **コントラスト比**:
  - テキストと背景色が適切なコントラスト比を持つように設計。
- **タッチエリア**:
  - ボタンやスライダーのタッチ領域を拡大し、誤操作を防ぐ。
- **ARIA属性**:
  - スクリーンリーダーに対応するため、`aria-label`を適切に付与。

---

#### **7. 開発スケジュール**

1. **環境構築**: Viteプロジェクトの作成、Reactの導入。
2. **UI設計**: 共通コンポーネント（タブ、スライダー、ボタン）の作成。
3. **グリッドタブ実装**: グリッド表示とスライダー連動機能の実装。
4. **グリッド応用タブ実装**: 分割機能と式表示の実装。
5. **面積（三角形）タブ実装**: 三角形描画と面積計算の実装。
6. **時間と速度タブ実装**: アニメーション機能の実装。
7. **テスト**: 各機能の動作確認とバグ修正。
8. **デプロイ**: GitHub Pagesへの公開。

---

#### **8. 将来の拡張性**

- **追加タブ**: 新しい視覚化方法を追加可能な設計。
- **多言語対応**: 将来的に多言語対応も視野に入れた設計。
- **難易度設定**: 学年に応じた難易度調整機能の追加可能性。
